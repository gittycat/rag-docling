# Local development overrides for OrbStack/Docker Desktop
# Usage: docker compose -f docker-compose.yml -f docker-compose.local.yml up -d
# Or:    just deploy local

services:
  webapp:
    # Use locally built image
    image: webapp:local
    build:
      context: ./services/webapp
      dockerfile: Dockerfile

  rag-server:
    # Use locally built image
    image: rag-server:local
    build:
      context: .
      dockerfile: ./services/rag_server/Dockerfile
    # Enable debug logging for local development
    environment:
      - LOG_LEVEL=INFO

  celery-worker:
    # Use locally built image (same as rag-server)
    image: rag-server:local
    environment:
      - LOG_LEVEL=INFO
